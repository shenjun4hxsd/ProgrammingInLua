##载入Lua脚本

####一、通过文件

```csharp
    using UnityEngine;
    using System.Collections;
    using XLua;
    
    public class ByFile : MonoBehaviour {
        LuaEnv luaenv = null;
        // Use this for initialization
        void Start()
        {
            luaenv = new LuaEnv();
            luaenv.DoString("require 'byfile'");
        }
    
        // Update is called once per frame
        void Update()
        {
            if (luaenv != null)
            {
                luaenv.Tick();
            }
        }
    
        void OnDestroy()
        {
            luaenv.Dispose();
        }
    }
```

将`byfile.lua.txt`存放在`Resources`文件夹下

```lua
    print('hello world')
```

####二、通过字符串

```csharp
    using UnityEngine;
    using System.Collections;
    using XLua;
    
    public class ByString : MonoBehaviour {
        LuaEnv luaenv = null;
        // Use this for initialization
        void Start () {
            luaenv = new LuaEnv();
            luaenv.DoString("print('hello world')");
        }
    	
    	// Update is called once per frame
    	void Update () {
    	    if (luaenv != null)
            {
                luaenv.Tick();
            }
    	}
    
        void OnDestroy()
        {
            luaenv.Dispose();
        }
    }
```

####通过加载器

```csharp
    using UnityEngine;
    using System.Collections;
    using XLua;
    
    public class CustomLoader : MonoBehaviour {
        LuaEnv luaenv = null;
        // Use this for initialization
        void Start()
        {
            luaenv = new LuaEnv();
            luaenv.AddLoader((ref string filename) => {
                 if (filename == "InMemory")
                 {
                     string script = "return {ccc = 9999}";
                     return System.Text.Encoding.UTF8.GetBytes(script);
                 }
                 return null;
             });
            luaenv.DoString("print('InMemory.ccc=', require('InMemory').ccc)");
        }
    
        // Update is called once per frame
        void Update()
        {
            if (luaenv != null)
            {
                luaenv.Tick();
            }
        }
    
        void OnDestroy()
        {
            luaenv.Dispose();
        }
    }
```

🔚